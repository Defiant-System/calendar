
@bgHighlight: #0ef;
@fgHighlight: #333;
// @bgHighlight: #c570ff;
// @fgHighlight: #fff;

&[data-theme="dark"] {
	content {
		--head-line: rgba(#fff,.175);
		--grid-line: rgba(#fff,.1);
		--grid-shade: rgba(#fff,.025);
	}

	[class*="icon-"],
	[class^="icon-"] {
		filter: invert(1) drop-shadow(0 1px 0 rgba(0,0,0,.4));
	}

	h2 {
		filter: brightness(1.1);
		text-shadow: 0 0 5px rgba(#fff,.35);

		i {
			color: @bgHighlight;
		}
	}

	h3 {
		color: @bgHighlight;
	}

	.event {
		box-shadow: 0 4px 3px -2px rgba(0,0,0,.25);
	}

	.view-week {
		.week .weekdays b.today i:nth-child(2) {
			opacity: 1;
			background: @bgHighlight;
			color: @fgHighlight;
			text-shadow: 0 0 0;
		}
	}

	.view-month {
		.month {
			.weekdays {
				border-bottom-color: var( --head-line );
			}

			.days {
				b {
					border-color: var( --grid-line );

					&.today {
						i {
							background: @bgHighlight;
							color: @fgHighlight;
							text-shadow: 0 0 0;
						}
					}

					&.weekend:not(.non-day) {
						background: var( --grid-shade );
						color: @bgHighlight;
					}

					&.non-day {
						background: var( --grid-shade );
					}

					.entry:before {
						box-shadow: 0 1px 1px rgba(0,0,0,.35);
					}
				}
			}
		}
	}

	.view-year {
		.month {
			position: relative;
			border: 1px solid transparent;

			&:hover {
				background: rgba(0,0,0,.05);
				border-color: rgba(0,0,0,.15);
				border-bottom-color: rgba(#fff,.15);

				&:after {
					content: "";
					position: absolute;
					bottom: -1px;
					left: 0;
					right: 0;
					height: 1px;
					opacity: .35;
					background: linear-gradient(90deg, transparent 5%, #fff 50%, transparent 95%);
					pointer-events: none;
				}
			}

			h3 {
				color: darken(@bgHighlight, 7%);
			}

			.days b {
				&.weekend:not(.non-day) {
					color: darken(@bgHighlight, 11%);
				}

				&.has-event.weekend,
				&.has-event {
					color: #fff;
				}
			}
		}
	}

	.now-line {
		border-top-color: @bgHighlight;
		box-shadow: 0 1px 0 rgba(0,0,0,.05);

		&:before {
			background-color: @bgHighlight;
		}

		&:after {
			box-shadow: 0 1px 0 rgba(0,0,0,.05);
			background-color: @bgHighlight;
			color: @fgHighlight;
		}
	}

	.sidebar {
		.sidebar-wrapper {
			background: transparent;
			border: 0;

			&:before,
			&:after {
				content: "";
				position: absolute;
				top: 0;
				bottom: 0;
				right: 1px;
				width: 1px;
				background: rgba(#000,.15);
			}

			&:after {
				right: 0;
				background: linear-gradient(0deg, transparent, #ffffff66, transparent);
				mix-blend-mode: overlay;
			}

			hr {
				opacity: 1;
				overflow: visible;
				background: linear-gradient(90deg, transparent, #ffffff88, transparent);
				mix-blend-mode: overlay;

				&:after {
					content: "";
					position: absolute;
					top: -1px;
					left: 0;
					right: 0;
					height: 1px;
					background: rgba(#000,.15);
				}
			}
		}

		.mini-calendar {
			.cal-nav {
				.icon-chevron-left,
				.icon-chevron-right {
					&:hover {
						background-color: rgba(#fff,.15);
					}

					&:active {
						background-color: rgba(#fff,.25);
					}
				}
			}

			.month {
				.days {
					b {
						&.week-nr {
							background: rgba(0,0,0,.1);
						}

						&.weekend:not(.non-day) {
							color: @bgHighlight;
							text-shadow: 0 1px 1px rgba(0,0,0,.2);
						}

						&.non-day {
							opacity: .5;
							text-shadow: 0 0 0;
						}

						&.has-event.weekend,
						&.has-event {
							color: #fff;
						}

						&.today:not(.non-day) {
							&:before {
								box-shadow: inset 0 0 0 2px @bgHighlight;
							}
						}

						&.selected {
							color: @fgHighlight;
							text-shadow: 0 0 0;

							&:before {
								background: @bgHighlight;
								box-shadow: inset 0 0 0 2px @bgHighlight;
							}
						}
					}
				}
			}
		}

		.event {
			box-shadow: 0 0 0;
		}
	}

	.popup-bubble {
		div {
			&.row-date {
				span {
					&.event-starts,
					&.event-ends {
						&:hover {
							color: #ddd;
						}
					}

					&.drag-editing_ {
						color: #fff;

						&:before {
							box-shadow: 0 0 0 3px #ffffff55;
						}
					}
				}

				&:active {
					span:not(.drag-editing_) {
						color: #ccc;
					}
				}
			}
		}

		h3 {
			color: #ddd;
		}
	}
}
